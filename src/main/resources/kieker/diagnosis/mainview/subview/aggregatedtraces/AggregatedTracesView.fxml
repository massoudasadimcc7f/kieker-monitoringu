<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.cell.*?>

<GridPane fx:id="view" xmlns:fx="http://javafx.com/fxml" fx:controller="kieker.diagnosis.mainview.subview.aggregatedtraces.AggregatedTracesViewController"
	AnchorPane.bottomAnchor="0.0" AnchorPane.topAnchor="0.0"
	AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0">

	<vgap>10</vgap>

	<HBox GridPane.rowIndex="0">
		<spacing>10</spacing>

		<fx:define>
			<ToggleGroup fx:id="togglegroup" />
		</fx:define>

		<RadioButton text="%AggregatedTracesView.btnShowAll.text" selected="true" toggleGroup="$togglegroup" onAction="#showAllTraces" />
		<RadioButton text="%AggregatedTracesView.btnShowJustFailed.text" toggleGroup="$togglegroup" onAction="#showJustFailedTraces" />	
		<RadioButton text="%AggregatedTracesView.btnShowJustFailureContaining.text" toggleGroup="$togglegroup" onAction="#showJustFailureContainingTraces" />		
	</HBox>
	
	<TextField promptText="%AggregatedTracesView.text.message" onAction="#useRegExp" fx:id="regexpfilter"
		GridPane.rowIndex="1" />

	<TreeTableView fx:id="treetable" GridPane.hgrow="ALWAYS"
		GridPane.vgrow="ALWAYS" GridPane.rowIndex="2" tableMenuButtonVisible="true"  onMouseClicked="#selectCall">

	<columns>
			<TreeTableColumn text="%AggregatedTracesView.trclmnExecutionContainer.text">
				<cellFactory>
					<kieker.diagnosis.mainview.subview.util.FailedTreeCellFactory/>
				</cellFactory>
				<cellValueFactory>
					<TreeItemPropertyValueFactory property="container" />
				</cellValueFactory>
			</TreeTableColumn>
			
			<TreeTableColumn text="%AggregatedTracesView.trclmnComponent.text">
				<cellFactory>
					<kieker.diagnosis.mainview.subview.util.FailedTreeCellFactory />
				</cellFactory>
				<cellValueFactory>
					<TreeItemPropertyValueFactory property="component" />
				</cellValueFactory>
			</TreeTableColumn>
			
			<TreeTableColumn text="%AggregatedTracesView.trclmnOperation.text">
				<cellFactory>
					<kieker.diagnosis.mainview.subview.util.FailedTreeCellFactory />
				</cellFactory>
				<cellValueFactory>
					<TreeItemPropertyValueFactory property="operation" />
				</cellValueFactory>
			</TreeTableColumn>
			
			<TreeTableColumn text="%AggregatedTracesView.trclmnCalls.text">
				<cellFactory>
					<kieker.diagnosis.mainview.subview.util.FailedTreeCellFactory />
				</cellFactory>
				<cellValueFactory>
					<TreeItemPropertyValueFactory property="calls" />
				</cellValueFactory>
			</TreeTableColumn>
			
			<TreeTableColumn text="%AggregatedTracesView.trclmnTraceDepth.text">
				<cellFactory>
					<kieker.diagnosis.mainview.subview.util.FailedTreeCellFactory />
				</cellFactory>
				<cellValueFactory>
					<TreeItemPropertyValueFactory property="stackDepth" />
				</cellValueFactory>
			</TreeTableColumn>
			
			<TreeTableColumn text="%AggregatedTracesView.trclmnTraceSize.text">
				<cellFactory>
					<kieker.diagnosis.mainview.subview.util.FailedTreeCellFactory />
				</cellFactory>
				<cellValueFactory>
					<TreeItemPropertyValueFactory property="stackSize" />
				</cellValueFactory>
			</TreeTableColumn>
			
			<TreeTableColumn text="%AggregatedTracesView.trclmnMinimalDuration.text" >
			<cellFactory>
					<kieker.diagnosis.mainview.subview.util.DurationTreeCellFactory />
				</cellFactory>
				<cellValueFactory>
					<kieker.diagnosis.mainview.subview.util.DurationTreeCellValueFactory
						property="minDuration" />
				</cellValueFactory>
			</TreeTableColumn>
			
			<TreeTableColumn text="%AggregatedTracesView.trclmnAverageDuration.text" >
			<cellFactory>
					<kieker.diagnosis.mainview.subview.util.DurationTreeCellFactory />
				</cellFactory>
				<cellValueFactory>
					<kieker.diagnosis.mainview.subview.util.DurationTreeCellValueFactory
						property="meanDuration" />
				</cellValueFactory>
			</TreeTableColumn>
			
			<TreeTableColumn text="%AggregatedTracesView.trclmnMeanDuration.text" >
			<cellFactory>
					<kieker.diagnosis.mainview.subview.util.DurationTreeCellFactory />
				</cellFactory>
				<cellValueFactory>
					<kieker.diagnosis.mainview.subview.util.DurationTreeCellValueFactory
						property="medianDuration" />
				</cellValueFactory>
			</TreeTableColumn>
			
			<TreeTableColumn text="%AggregatedTracesView.trclmnMaximalDuration.text" >
			<cellFactory>
					<kieker.diagnosis.mainview.subview.util.DurationTreeCellFactory />
				</cellFactory>
				<cellValueFactory>
					<kieker.diagnosis.mainview.subview.util.DurationTreeCellValueFactory
						property="maxDuration" />
				</cellValueFactory>
			</TreeTableColumn>
			
			<TreeTableColumn text="%AggregatedTracesView.trclmnTotalDuration.text" >
			<cellFactory>
					<kieker.diagnosis.mainview.subview.util.DurationTreeCellFactory />
				</cellFactory>
				<cellValueFactory>
					<kieker.diagnosis.mainview.subview.util.DurationTreeCellValueFactory
						property="totalDuration" />
				</cellValueFactory>
			</TreeTableColumn>
		</columns>
	</TreeTableView>
	
	 <TitledPane GridPane.rowIndex="3" text="%properties">
	<GridPane fx:id="detailpanel" >
		<TextField text="%AggregatedTracesView.lblExecutionContainer.text"
			editable="false" GridPane.rowIndex="1" GridPane.columnIndex="1" />
		<TextField text="N/A" GridPane.fillWidth="true" editable="false"
			GridPane.rowIndex="1" GridPane.columnIndex="2" fx:id="container" GridPane.hgrow="ALWAYS" />

		<TextField text="%AggregatedTracesView.lblComponent.text" editable="false"
			GridPane.rowIndex="2" GridPane.columnIndex="1" />
		<TextField text="N/A" GridPane.fillWidth="true" editable="false"
			GridPane.rowIndex="2" GridPane.columnIndex="2" fx:id="component" />

		<TextField text="%AggregatedTracesView.lblOperation.text" editable="false"
			GridPane.rowIndex="3" GridPane.columnIndex="1" />
		<TextField text="N/A" GridPane.fillWidth="true" editable="false"
			GridPane.rowIndex="3" GridPane.columnIndex="2" fx:id="operation" />

		<TextField text="%AggregatedTracesView.lblFailed.text" editable="false"
			GridPane.rowIndex="4" GridPane.columnIndex="1" />
		<TextField text="N/A" GridPane.fillWidth="true" editable="false"
			GridPane.rowIndex="4" GridPane.columnIndex="2" fx:id="failed" />
	
		<TextField text="%AggregatedTracesView.lblNumberOfCalls.text" editable="false"
			GridPane.rowIndex="5" GridPane.columnIndex="1" />
		<TextField text="N/A" GridPane.fillWidth="true" editable="false"
			GridPane.rowIndex="5" GridPane.columnIndex="2" fx:id="calls" />
			
		<TextField text="%AggregatedTracesView.lblTraceDepth.text" editable="false"
			GridPane.rowIndex="6" GridPane.columnIndex="1" />
		<TextField text="N/A" GridPane.fillWidth="true" editable="false"
			GridPane.rowIndex="6" GridPane.columnIndex="2" fx:id="traceDepth" />
			
		<TextField text="%AggregatedTracesView.trclmnTraceSize.text" editable="false"
			GridPane.rowIndex="7" GridPane.columnIndex="1" />
		<TextField text="N/A" GridPane.fillWidth="true" editable="false"
			GridPane.rowIndex="7" GridPane.columnIndex="2" fx:id="traceSize" />
			
		<TextField text="%AggregatedTracesView.lblMinimalDuration.text" editable="false"
			GridPane.rowIndex="8" GridPane.columnIndex="1" />
		<TextField text="N/A" GridPane.fillWidth="true" editable="false"
			GridPane.rowIndex="8" GridPane.columnIndex="2" fx:id="minDuration" />
			
		<TextField text="%AggregatedTracesView.lblAverageDuration.text" editable="false"
			GridPane.rowIndex="9" GridPane.columnIndex="1" />
		<TextField text="N/A" GridPane.fillWidth="true" editable="false"
			GridPane.rowIndex="9" GridPane.columnIndex="2" fx:id="avgDuration" />
			
		<TextField text="%AggregatedTracesView.lblMeanDuration.text" editable="false"
			GridPane.rowIndex="10" GridPane.columnIndex="1" />
		<TextField text="N/A" GridPane.fillWidth="true" editable="false"
			GridPane.rowIndex="10" GridPane.columnIndex="2" fx:id="medianDuration" />
			
		<TextField text="%AggregatedTracesView.lblMaximalDuration.text" editable="false"
			GridPane.rowIndex="11" GridPane.columnIndex="1" />
		<TextField text="N/A" GridPane.fillWidth="true" editable="false"
			GridPane.rowIndex="11" GridPane.columnIndex="2" fx:id="maxDuration" />
			
		<TextField text="%AggregatedTracesView.lblTotalDuration.text" editable="false"
			GridPane.rowIndex="12" GridPane.columnIndex="1" />
		<TextField text="N/A" GridPane.fillWidth="true" editable="false"
			GridPane.rowIndex="12" GridPane.columnIndex="2" fx:id="totalDuration" />
			
	</GridPane>
</TitledPane>
	<HBox fx:id="statusbar" GridPane.rowIndex="4">
		<TextField text="%AggregatedTracesView.lblCounter.text" editable="false" fx:id="counter" />
	</HBox>
	
</GridPane>